<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta content="noindex, nofollow" name="robots">
		<link href="main.css" media="screen" rel="Stylesheet" type="text/css" />
		<script src="/javascripts/jquery.js" type="text/javascript"></script>
		<script language="javascript">

var oEditor = window.parent.InnerDialogLoaded();
var FCKLang = oEditor.FCKLang ;
window.onload = function ()
{
	oEditor.FCKLanguageManager.TranslatePage( document ) ;
	// Show the "Ok" button.
	window.parent.SetOkButton( true ) ;	
}

function set_cookie(name, value)
{
    var theCookie = name + "=" + encodeURIComponent(value);
    document.cookie = theCookie;
}
function get_cookie(searchName)
{
    var sRE = "(?:; )?" + searchName + "=([^;]*);?";
    var oRE = new RegExp(sRE);

    if(oRE.test(document.cookie)) {
	return decodeURIComponent(RegExp["$1"]);	
    }else {
	return null;
    }
}
function set_form_cookie()
{
    var form = document.forms["f2"];
    var name = 'slang';
    var val  = form[name].value;
    set_cookie(name, val);
}
function set_form()
{
    var form = document.forms["f2"];
    var name = 'slang';
    var val  = get_cookie(name);
    if(val)
	form[name].value = val;
}
function Ok()
{
	var slang_obj = document.getElementById('slang');
        var fln_obj = document.getElementById('fln')
        var title_obj = document.getElementById('c_t')
        var collapse_obj = document.getElementById('c_c')
	var code_text = $("#code").val().replace(/</g,"&lt;").replace(/>/g,"&gt;");

	var html = "<pre class='brush: " + slang_obj.value;
        if(fln_obj.value.length > 0)
            html += "; first-line: " + fln_obj.value;
        if(collapse_obj.checked)
            html += "; collapse: true";
        
        html += "\'";
        if(title_obj.value.length >0)
            html += " title=\"" + title_obj.value + "\"";
        html += ">" + code_text + "</pre>";
	//alert(html);
	oEditor.FCK.InsertHtml(html);
	set_form_cookie();
	return true;
}
</script>
	</head>
	<body scroll="no" style="OVERFLOW: hidden;font-size:12px;">
	<div style="">
	<form id="f2" name="f2" onsubmit="return false;">
	    <label><span fckLang="SyntaxHighlighterLang">Language: </span></label>
		<select name="slang" id="slang">
				<option value="actionscript3">ActionScript3</option>
				<option value="asm">ASM</option>
				<option value="bash">Bash/shell</option>
				<option value="bat">.bat</option>
				<option value="csharp">C#</option>
				<option value="cpp">C/C++</option>
				<option value="css">CSS</option>
				<option value="delphi">Delphi/Pascal</option>
				<option value="diff">Diff</option>
				<option value="erlang">Erlang</option>
				<option value="groovy">Groovy</option>
				<option value="haskell">Haskell</option>
				<option value="javascript">Javascript</option>
				<option value="java">Java</option>
				<option value="javafx">JavaFX</option>
				<option value="latex">LaTeX</option>
				<option value="lisp">LISP</option>
				<option value="lua">Lua</option>
				<option value="matlab">Matlab</option>
				<option value="perl">Perl</option>
				<option value="php">PHP</option>
				<option value="plain">Plain Text</option>
				<option value="powershell">PowerShell</option>
				<option value="python">Python</option>
				<option value="ruby">Ruby</option>
				<option value="scala">Scala</option>
				<option value="sql">SQL</option>
				<option value="vb">Visual Basic</option>
				<option value="xml">XML/HTML</option>
				<option value="yaml">YAML</option>
		</select>
            <label><span fckLang="SyntaxHighlighterLine">First line number:</span><input name="first_line_number" id="fln" type="text" size="8" /></label>
            <br/>
            <label><span fckLang="SyntaxHighlighterCodeTitle">Title:</span><input name="code_title" id="c_t" type="text" size="30" /></label>
            <label><input name="code_collapse" id="c_c" type="checkbox" /><span fckLang="SyntaxHighlighterCollapse">Collapse</span></label>
	    <br/>
	    <br/>
    	    <label style="text-align:left;"><span fckLang="SyntaxHighlighterCode">Code: </span></label> <br/>
	    <div style="text-align:center;margin-top:10px;">
		<textarea name="code" id="code" style="width:95%;height:80%;font-family: 'bitstream vera sans mono',monaco,'lucida console','courier new',courier,serif;"></textarea>
		<br/>
		<span fckLang="SyntaxHighlighterTip1">Dont forget to enable SyntaxHighlighter in Chito plugins settings.</span>
		<br/>
		<span fckLang="SyntaxHighlighterTip2">And the highlighted code will show when your post is loaded.</span>
	    </div>
	</form>
	</div>
<script type="text/javascript">set_form();</script>
	</body>
</html>
